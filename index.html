<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mobilework</title>
    <style type="text/css">
        body, html,#container {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin:0;
            font-family:"微软雅黑";
        }
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?type=webgl&v=1.0&ak=0TgGGgM8SESjc8r7cGX7tgSNXGSDSd0F"></script>
</head>
<body>
    <div id="container"></div>
    <script type="text/javascript">
		function getLocation(){
		    if(navigator.geolocation){            
		        //浏览器支持geolocation            
		        navigator.geolocation.getCurrentPosition(showPosition); 
		    }          
		} 
		function showPosition(position){
		
		    var map = new BMapGL.Map('container');// 创建Map实例
		    // 经度        
		    var longitude =position.coords.longitude-0.08854;        
		    // 纬度        
		    var latitude = position.coords.latitude+0.01340;
		    map.centerAndZoom(new BMapGL.Point(longitude, latitude), 14); // 初始化地图,设置中心点坐标和地图级别
		    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放
		
		    var scaleCtrl = new BMapGL.ScaleControl();  // 添加比例尺控件
		    map.addControl(scaleCtrl);
		    //设置中心点
		    var point = new BMapGL.Point(longitude, latitude);
		    map.setCenter(point); // 设置地图中心点
		    //向地图中添加marker
		    // 创建点标记
		    var marker = new BMapGL.Marker(new BMapGL.Point(longitude, latitude));
		    // 在地图上添加点标记
		    map.addOverlay(marker);
		
		    // alert("经度:" + longitude + ", 纬度:" + latitude);
		} 
		window.onload = getLocation;
	</script>
</body>
</html>
